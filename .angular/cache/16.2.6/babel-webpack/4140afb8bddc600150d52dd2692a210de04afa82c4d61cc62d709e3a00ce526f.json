{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/Livre.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../search-filter.pipe\";\nfunction RechercheParNomComponent_tbody_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const element_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(element_r2.idLivre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r2.nomLivre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r2.prixLivre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 5, element_r2.dateCreation, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(element_r2.auteur.nomAuteur);\n  }\n}\nexport class RechercheParNomComponent {\n  constructor(livreService) {\n    this.livreService = livreService;\n  }\n  ngOnInit() {\n    this.livreService.listeLivres().subscribe(livres => {\n      console.log(livres);\n      this.livres = livres;\n      this.allLivres = livres; // Initialisation de allLivres\n    });\n  }\n\n  rechercherLivre() {\n    this.livreService.rechercherParNom(this.nomLivre).subscribe(livres => {\n      this.livres = livres;\n      this.allLivres = livres; // Mise à jour de allLivres avec les résultats de recherche\n      console.log(livres);\n    });\n  }\n  onKeyUp(filterText) {\n    this.livres = this.allLivres.filter(item => item.nomLivre.toLowerCase().includes(filterText.toLowerCase()));\n  }\n  static #_ = this.ɵfac = function RechercheParNomComponent_Factory(t) {\n    return new (t || RechercheParNomComponent)(i0.ɵɵdirectiveInject(i1.LivreService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RechercheParNomComponent,\n    selectors: [[\"app-recherche-par-nom\"]],\n    decls: 24,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"form-inline\"], [1, \"form-group\", \"mx-sm-3\", \"mb-2\", \"mt-2\"], [\"name\", \"searchTerm\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nom\", \"\"], [1, \"card\", \"shadow\", \"mb-4\"], [1, \"card-body\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function RechercheParNomComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"label\");\n        i0.ɵɵtext(4, \"Nom Livre en tapant\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 3, 4);\n        i0.ɵɵlistener(\"ngModelChange\", function RechercheParNomComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"table\", 7)(10, \"thead\")(11, \"tr\")(12, \"th\");\n        i0.ɵɵtext(13, \"Id\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Prix\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\");\n        i0.ɵɵtext(19, \"Date Cr\\u00E9ation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"Classification\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(22, RechercheParNomComponent_tbody_22_Template, 13, 8, \"tbody\", 8);\n        i0.ɵɵpipe(23, \"searchFilter\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(23, 2, ctx.livres, ctx.searchTerm));\n      }\n    },\n    dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i2.DatePipe, i4.SearchFilterPipe],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","element_r2","idLivre","nomLivre","prixLivre","ɵɵpipeBind2","dateCreation","auteur","nomAuteur","RechercheParNomComponent","constructor","livreService","ngOnInit","listeLivres","subscribe","livres","console","log","allLivres","rechercherLivre","rechercherParNom","onKeyUp","filterText","filter","item","toLowerCase","includes","_","ɵɵdirectiveInject","i1","LivreService","_2","selectors","decls","vars","consts","template","RechercheParNomComponent_Template","rf","ctx","ɵɵlistener","RechercheParNomComponent_Template_input_ngModelChange_5_listener","$event","searchTerm","ɵɵtemplate","RechercheParNomComponent_tbody_22_Template","ɵɵproperty"],"sources":["D:\\2éme annéé\\s1\\angular\\bibliotheque\\src\\app\\recherche-par-nom\\recherche-par-nom.component.ts","D:\\2éme annéé\\s1\\angular\\bibliotheque\\src\\app\\recherche-par-nom\\recherche-par-nom.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Livre } from '../model/Livre.model';\nimport { LivreService } from '../services/Livre.service';\nimport { Auteur } from '../model/auteur.model';\n\n@Component({\n  selector: 'app-recherche-par-nom',\n  templateUrl: './recherche-par-nom.component.html'\n})\nexport class RechercheParNomComponent implements OnInit {\n  \n  livres!: Livre[];\n  nomLivre!: string;\n  auteur!: Auteur[];\n  searchTerm!: string;\n  allLivres!: Livre[];\n  \n  constructor(private livreService: LivreService) {}\n  \n  ngOnInit(): void {\n    this.livreService.listeLivres().subscribe(livres => { \n      console.log(livres);\n      this.livres = livres;\n      this.allLivres = livres; // Initialisation de allLivres\n    });\n  }\n  \n  rechercherLivre() {\n    this.livreService.rechercherParNom(this.nomLivre).subscribe(livres => { \n      this.livres = livres; \n      this.allLivres = livres; // Mise à jour de allLivres avec les résultats de recherche\n      console.log(livres);\n    });\n  }\n  \n  onKeyUp(filterText: string) {\n    this.livres = this.allLivres.filter(item =>\n      item.nomLivre.toLowerCase().includes(filterText.toLowerCase()));\n  }\n}\n","<div class=\"container\">\n    <form class=\"form-inline\">\n        <div class=\"form-group mx-sm-3 mb-2 mt-2\">\n            <label>Nom Livre en tapant</label>\n            <input #nom [(ngModel)]=\"searchTerm\" name=\"searchTerm\" class=\"form-control\">\n        </div>\n    </form>\n\n    <div class=\"card shadow mb-4\">\n        <div class=\"card-body\">\n            <table class=\"table table-striped\">\n                <thead>\n                    <tr>\n                        <th>Id</th>\n                        <th>Nom</th>\n                        <th>Prix</th>\n                        <th>Date Création</th>\n                        <th>Classification</th>\n                    </tr>\n                </thead>\n                <tbody *ngFor=\"let element of livres | searchFilter: searchTerm \">\n                    <tr>\n                        <td>{{element.idLivre}}</td>\n                        <td>{{element.nomLivre}}</td>\n                        <td>{{element.prixLivre}}</td>\n                        <td>{{element.dateCreation | date:'dd/MM/yyyy'}}</td>\n                        <td>{{element.auteur.nomAuteur}}</td>\n                        <!--  <td><a *ngIf=\"authService.isAdmin()\" class=\"btn btn-danger\" (click)=\"supprimerArticle_livre(element)\">Supprimer</a></td>\n                        <td><a *ngIf=\"authService.isAdmin()\" class=\"btn btn-success\" [routerLink]=\"['/update-article-livre', element.idLivre]\">Modifier</a></td> -->\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}